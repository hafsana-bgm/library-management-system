	@{
	ViewData["Title"] = "BookSells";
	Layout = "~/Views/Shared/_AdminLayout.cshtml";
	}

	@model Library_project.DataModel.Member

	<div class="bg-light p-4">

	<div class="container">

	<!-- Customer and Invoice Details -->
	<div class="row g-3 mb-4 my-3">
		<div class="col-md-8">
			<div class="card">
				<div class="card-header bg-info text-white">
					Customer Details
				</div>
				<div class="card-body">
					<div class="mb-3">

						<label>Phone*</label>
							<input type="number" class="form-control" id="MemberPhone"  oninput="phonenumberinput(this)" placeholder="Enter Phone Number">
							<div id="suggestions" style="position:absolute;z-index:1000;background:white;border:1px solid #ccc; display:none;">

							</div>
					</div>
					<div class="mb-3">
						<label>Name</label>
							<input type="text" class="form-control" id="MemberName" oninput="calculate(this)" placeholder="Enter Customer Name">
					</div>
					<div class="mb-3">
						<label>Address</label>
							<input type="text" class="form-control" id="MemberAddress" oninput="calculate(this)" placeholder="Enter Address">
					</div>
						<input name="MemberId" id="MemberId" type="hidden" />
						@* <input name="MemberId" asp-for="MemberId" id="" type="hidden" /> *@
				</div>
			</div>
		</div>


		<div class="col-md-4">
			<div class="card">
				<div class="card-header bg-info text-white">
					Invoice Details
				</div>
				<div class="card-body">
					<div class="mb-3">
						<label>Invoice ID</label>
						<input type="text" class="form-control" value="20250424160042">
					</div>
					<div class="mb-3">
						<label>Printed By</label>
						<input type="text" class="form-control" placeholder="Enter Printer's Name">
					</div>
					<div class="mb-3">
						<label>Date</label>
						<input type="date" class="form-control" value="2025-04-24">
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Invoice Items -->
	<div class="card mb-4 ">
		<div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
			Invoice Items
			<button class="btn btn-danger btn-sm">Add Item</button>
		</div>
		<div class="card-body row g-2">
			<div class="col-md-4">
				<input type="text" class="form-control" placeholder="Add Product Description">
			</div>
			<div class="col-md-2">
				<input type="number" class="form-control" placeholder="Quantity" value="1">
			</div>
			<div class="col-md-2">
				<input type="number" class="form-control" placeholder="Unit Price">
			</div>
			<div class="col-md-2">
				<input type="number" class="form-control" placeholder="Discount %">
			</div>
			<div class="col-md-2">
				<input type="text" class="form-control" value="0" readonly>
			</div>
		</div>
	</div>

	<!-- Order List and Order Summary -->
	<div class="row g-3">
		<div class="col-md-8">
			<div class="card">
				<div class="card-header bg-info text-white">
					Order List
				</div>
				<div class="card-body p-0">
					<table class="table table-striped mb-0">
						<thead class="table-light">
							<tr>
								<th>Product Description</th>
								<th>Quantity</th>
								<th>Price</th>
								<th>Discount</th>
								<th>Total</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							<!-- Dynamic rows here -->
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<div class="col-md-4">
			<div class="card">
				<div class="card-header bg-info text-white">
					Order Summary
				</div>
				<div class="card-body">
					<div class="mb-2">
						<label>Subtotal (without Discount):</label>
						<input type="text" class="form-control" value="0.00" readonly>
					</div>
					<div class="mb-2">
						<label>Total Discount:</label>
						<input type="text" class="form-control" value="0.00" readonly>
					</div>
					<div class="mb-2">
						<label>Discount:</label>
						<input type="text" class="form-control" readonly>
					</div>

				</div>
			</div>
		</div>
	</div>

	</div>
	</div>


@section Scripts {
	<script>

		const fetchPhoneSuggestions = debounce(function(phoneNumber){
			if(phonenumber.length < 3){
				$('#suggestions').hide();
				return;
			}
		});

		$('#MemberPhone').on('input',function(){
			const phonenumber = $(this).val();
			$('#MemberId').val('0');
			fetchPhoneSuggestions(phonenumber);
		});
		// function phonenumberinput(number){

		// 	let phonenumber = number.value;
		// 	const Name = number.querySeletor('#MemberName').value;
		// 	const Address = number.querySeletor('#MemberAddress').value;


		// 		var formData = {
		// 		//MemberName : $('#MemberName').val(),
		// 		MemberPhone : $('#MemberPhone').val(),
		// 		//MemberAddress : $('#MemberAddress').val()
		// 		};

		// 		console.log(FormData);

		$.ajax({
				url: '/BookSell/BookSells',
				type: 'POST',
				data: formData,
				success: function (obj) {
					alert('Done!');
				},
				error: function (xhr, status, error) {
					
					alert('Error!');
				}
		});

		
	</script>

}






@* <!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>AJAX Calculator</title>
</head>
<body>
	<h1>AJAX Calculator</h1>
	<form id="calcForm">
		<input type="number" id="num1" required>
		<select id="operator">
			<option value="+">+</option>
			<option value="-">-</option>
			<option value="*">*</option>
			<option value="/">/</option>
		</select>
		<input type="number" id="num2" required>
		<button type="submit">Calculate</button>
	</form>
	<p>Result: <span id="result"></span></p>

	<script>
		document.getElementById('calcForm').addEventListener('submit', function(e) {
		  e.preventDefault();

		  const num1 = document.getElementById('num1').value;
		  const num2 = document.getElementById('num2').value;
		  const operator = document.getElementById('operator').value;

		  const xhr = new XMLHttpRequest();
		  xhr.open('POST', 'calculate.php', true);
		  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

		  xhr.onload = function() {
			if (this.status === 200) {
			  document.getElementById('result').textContent = this.responseText;
			}
		  };

		  xhr.send(`num1=${num1}&num2=${num2}&operator=${operator}`);
		});
	</script>
</body>
</html> *@